# Linux笔记(三)

#### 1、vim

```
三种模式：
	正常模式（一般模式）：打开一个档案默认进入该模式。可以移动光标查看文件。
	插入模式：通过按下i进入插入模式。可以对文件进行修改。
	命令行模式：先按下esc后，在输入冒号：，然后输入相关指令。
```

```
常用命令：
	1.拷贝当前行。在一般模式下输入yy。
	  拷贝当前行向下5行，一般模式下输入yy5
	2.粘贴复制内容。 在一般模式下输入p
	3.查找某个单词。 在命令行模式下输入: /关键字  然后回车，输入n就是查找下一个
	4.设置文件行号。 在命令行模式下， 输入set nu     
	5.取消文件行号。 在命令行模式下， 输入set nonu
	6.快速定位首行和末行。 在一般模式下，输入gg定位到首行
								   输入G定位到末行
	7.撤销动作。 在一般模式下，输入u
	8.将光标快速移动到某行。  在一般模式下，输入行号，然后输入shift+g
```

#### 2、关机

```
立刻关机： shutdown -h now
count分钟后关机： shutdown -h count
立刻关机： halt
```

#### 3、重启

```
shutdown -r now
reboot
```

#### 4、内存数据同步到磁盘

```
sync
注意：
	在关机和重启前首先执行sync命令
```

#### 5、注销用户

```
logout
exit
```

#### 6、指定运行级别

```
运行级别说明：
	0 :关机
	1 :单用户【找回丢失密码】
	2:多用户状态没有网络服务
	3:多用户状态有网络服务 （multi-user.target）
	4:系统未使用保留给用户
	5:图形界面(graphical.target)
	6:系统重启
```

```
切换运行级别：init 数字
```

#### 7、指定默认运行级别

```
得到系统默认运行级别：
	systemctl get-default
设置系统默认运行级别：
	systemctl set-default multi-user.target
```

#### 8、找回root密码

```
不同版本找回密码方式不同（以centos 7.6为例）
	步骤一：
		首先，启动系统，进入开机界面，在界面中按“e”进入编辑界面。
	步骤二：
		进入编辑界面，使用键盘上的上下键把光标往下移动，找到以““Linux16”开头内容所在的行		 数”，在行的最后面输入：init=/bin/sh。
	步骤三：
		接着，输入完成后，直接按快捷键：Ctrl+x 进入单用户模式。
	步骤四：
		接着，在光标闪烁的位置中输入：mount -o remount,rw /（注意：各个单词间有空格），完		   成后按键盘的回车键。
	步骤五：
		在新的一行最后面输入：passwd， 完成后按键盘的回车键。输入密码，然后再次确认密码即		可，密码修改成功后，会显示passwd.....的样式，说明密码修改成功。
	步骤六：
		接着，在鼠标闪烁的位置中（最后一行中）输入：touch /.autorelabel，完成后按键盘的回		  车键。
	步骤七：
		继续在光标闪烁的位置中，输入：exec /sbin/init，完成后按键盘的回车键,等待系统自动修		 改密码，完成后，系统会自动重启, 新的密码生效了
```

